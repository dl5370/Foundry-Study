# ğŸš€ æŒä¹…éƒ¨ç½² - å¿«é€Ÿå‚è€ƒ

## æœ€å¸¸ç”¨çš„å‘½ä»¤

```bash
# ğŸ“¦ éƒ¨ç½²åˆçº¦ï¼ˆè‡ªåŠ¨ä¿å­˜ï¼‰
./deploy.sh local

# ğŸ“‹ æŸ¥çœ‹å½“å‰éƒ¨ç½²ä¿¡æ¯
./tools/current-deployment.sh

# ğŸ“š æŸ¥çœ‹éƒ¨ç½²å†å²
./tools/list-deployments.sh

# ğŸ”„ åŠ è½½å†å²éƒ¨ç½²
./tools/load-deployment.sh <timestamp>
```

---

## ä¸€åˆ†é’Ÿå¿«é€ŸæŒ‡å—

### **é¦–æ¬¡ä½¿ç”¨**
```bash
1. ./deploy.sh local              â† éƒ¨ç½²åˆçº¦
2. æ‰“å¼€ http://localhost:8080/...  â† åˆçº¦åœ°å€è‡ªåŠ¨å¡«å……
3. å®Œæˆï¼
```

### **å†æ¬¡ä½¿ç”¨ï¼ˆä¸‹ä¸€æ¬¡æ‰“å¼€é¡¹ç›®ï¼‰**
```bash
1. ./deploy.sh local              â† é‡æ–°éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
   æˆ–
   ./tools/current-deployment.sh  â† æŸ¥çœ‹å½“å‰éƒ¨ç½²
2. åˆ·æ–°ç½‘é¡µ                        â† è‡ªåŠ¨åŠ è½½åˆçº¦åœ°å€
3. å®Œæˆï¼
```

### **æ¢å¤æ—§éƒ¨ç½²**
```bash
1. ./tools/list-deployments.sh    â† æŸ¥çœ‹å†å²
2. ./tools/load-deployment.sh <timestamp>
3. åˆ·æ–°ç½‘é¡µ
4. å®Œæˆï¼
```

---

## æ–‡ä»¶å¯¹åº”å…³ç³»

| æ–‡ä»¶ | è‡ªåŠ¨ç”Ÿæˆï¼Ÿ | ç”¨é€” |
|-----|---------|------|
| `.env.deployed` | âœ… æ˜¯ | å½“å‰åˆçº¦åœ°å€ |
| `deployments/local/latest.json` | âœ… æ˜¯ | æœ€æ–°éƒ¨ç½² |
| `deployments/local/history/*.json` | âœ… æ˜¯ | å†å²ç‰ˆæœ¬ |
| `broadcast/...json` | âœ… æ˜¯ï¼ˆFoundryï¼‰ | ä¸´æ—¶æ–‡ä»¶ |

---

## é‡è¦æ•°æ®

**ä¸ä¼šæ”¹å˜**ï¼ˆæ¯æ¬¡éƒ¨ç½²ç›¸åŒï¼‰ï¼š
- âœ… Aliceã€Bobã€Carol åœ°å€
- âœ… å¤šç­¾é˜ˆå€¼ï¼ˆ2 of 3ï¼‰
- âœ… åˆå§‹ä»£å¸ä¾›åº”ï¼ˆ1000 MTKï¼‰

**ä¼šæ”¹å˜**ï¼ˆé‡æ–°éƒ¨ç½²ä¼šå˜ï¼‰ï¼š
- âŒ MultiSigWallet åˆçº¦åœ°å€
- âŒ MockERC20 åˆçº¦åœ°å€
- âŒ éƒ¨ç½²æ—¶é—´æˆ³

---

## å…¸å‹å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ./deploy.sh local  â”‚ â† é¦–æ¬¡æˆ–é‡æ–°éƒ¨ç½²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ .env.deployed   â”‚ â† è‡ªåŠ¨æ›´æ–°
    â”‚ latest.json     â”‚
    â”‚ history/        â”‚ â† è‡ªåŠ¨ä¿å­˜æ—¶é—´æˆ³ç‰ˆæœ¬
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ‰“å¼€ç½‘é¡µ                     â”‚
    â”‚ è‡ªåŠ¨è¯»å– .env.deployed      â”‚
    â”‚ åˆçº¦åœ°å€è‡ªåŠ¨å¡«å……            â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ä¸åˆçº¦äº¤äº’                   â”‚
    â”‚ éƒ¨ç½²æˆåŠŸï¼âœ…                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¸¸è§é—®é¢˜é€Ÿè§£

**Q: ç½‘é¡µæ˜¾ç¤ºæ—§åœ°å€ï¼Ÿ**
```bash
./tools/current-deployment.sh  # æ£€æŸ¥å½“å‰
# æˆ–ç¡¬åˆ·æ–°: Cmd+Shift+R
```

**Q: å¦‚ä½•æ¢å¤æ˜¨å¤©çš„éƒ¨ç½²ï¼Ÿ**
```bash
./tools/list-deployments.sh  # æŸ¥çœ‹å†å²
./tools/load-deployment.sh 20250108-143022.json  # åŠ è½½
```

**Q: .env.deployed éœ€è¦ç¼–è¾‘å—ï¼Ÿ**
```bash
âŒ ä¸ç”¨ï¼è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°
```

**Q: æ—§åˆçº¦è¿˜èƒ½ç”¨å—ï¼Ÿ**
```bash
âœ… èƒ½ï¼åªè¦ Anvil èŠ‚ç‚¹æ²¡é‡å¯
./tools/load-deployment.sh <timestamp>  # åˆ‡æ¢å›å»
```

---

**æ›´å¤šè¯¦è§ï¼š** `PERSISTENT_DEPLOYMENT.md`
